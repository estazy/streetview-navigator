
# Street View Navigator

Welcome to Street View Navigator! This application allows users to plan a route between two locations and then virtually 'drive' through it using Google Street View. It provides a unique way to explore and familiarize yourself with a journey before you take it. The app also features route narratives generated by Gemini and turn-by-turn directions synchronized with the Street View.

## Features

*   **Route Planning**: Enter start and end locations to calculate a driving route.
*   **Street View Simulation**: "Ride" along the calculated route with Street View panoramas.
*   **Interactive 2D Map**: View the route on a 2D map that synchronizes with the Street View, and click to jump to specific points.
*   **Adjustable Simulation**: Control playback speed and the "step distance" (granularity) of the Street View movement.
*   **Route Narrative by Gemini**: Get an engaging, descriptive overview of your journey generated by Google's Gemini API.
*   **Turn-by-Turn Directions**: See Google Maps turn-by-turn instructions, highlighted as you progress.
*   **Multilingual UI**: Supports English and Thai.
*   **Geolocation**: Optionally uses your current location as a default starting point.

## Tech Stack

*   **Frontend**: React 19 (using esm.sh for CDN delivery), TypeScript
*   **Styling**: Tailwind CSS (via CDN)
*   **Mapping & Street View**: Google Maps JavaScript API
*   **AI Narrative**: Google Gemini API (via `@google/genai` SDK)
*   **Module Management**: ES Modules with Import Maps in `index.html`

## Screenshot
![1](https://drive.usercontent.google.com/download?id=1lm6gGptIbPvupfpdQBDxWbpblQR3J42k)
![2](https://drive.usercontent.google.com/download?id=1VnbNkuf6OGOzQ0SaRzQkD94p1KbbZrIx)

## Project Structure

```
.
├── README.md                 # This file
├── index.html                # Main HTML entry point, loads scripts and styles
├── index.tsx                 # Main React application entry point
├── App.tsx                   # Root React component, manages state and layout
├── components/               # UI components (RouteInput, StreetViewPlayer, MapDisplay, etc.)
├── services/                 # Modules for interacting with external APIs (Google Maps, Gemini)
├── contexts/                 # React Contexts (e.g., LocalizationContext)
├── locales/                  # Translation files (th.ts, en.ts)
├── types.ts                  # TypeScript type definitions
├── constants.ts              # Application-wide constants
└── metadata.json             # Application metadata (name, description, permissions)
```

## Getting Started

Follow these instructions to get a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

*   A modern web browser (e.g., Chrome, Firefox, Edge, Safari).
*   A text editor or IDE (e.g., VS Code).
*   A simple local HTTP server to serve the files (since ES modules are used). Python's built-in server or Node.js `http-server` are good options.

### Setup Instructions

1.  **Clone the Repository (or download the files)**
    If this were a Git repository, you'd clone it. For now, ensure you have all the provided files in a single project directory.

2.g  **Configure Google Maps API Key**

    *   Open `index.html`.
    *   Find the line that includes the Google Maps API script:
        ```html
        <script async src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY_HERE&libraries=routes,streetView,geometry,places"></script>
        ```
    *   **Important**: For this key to work, you must enable the following APIs in your Google Cloud Console project:
        *   **Maps JavaScript API**
        *   **Directions API**
        *   **Street View API** (often listed as "Street View Static API" or similar, ensure it covers `StreetViewService`)
        *   **Geocoding API**
        *   **Places API**
        *   **Geocoding API**
        *   (The `geometry` library is loaded via the script tag, which includes `poly` and `spherical` functionalities.)
    *   It is highly recommended to restrict your API key in the Google Cloud Console to prevent unauthorized use. You can restrict it by HTTP referrers (your development domain, e.g., `localhost:*` or `127.0.0.1:*`) and by API (to the services listed above).

3.  **Configure Gemini API Key (Optional)**

    The Gemini API is used for generating route narratives. If you wish to use this feature:
    *   Obtain an API key from [Google AI Studio](https://aistudio.google.com/app/apikey).
    *   The application expects the Gemini API key to be available as an environment variable named `API_KEY` within the context where `process.env.API_KEY` is accessed (typically in a Node.js backend or build environment).
    *   **For Client-Side Only Development (like this project):**
        Since this is a client-side application without a backend or build step that injects environment variables, directly using `process.env.API_KEY` in the browser will not work as intended unless it's manually set.
        *   **Development Workaround (Not for Production):** You could temporarily hardcode your Gemini API key in `services/geminiService.ts` where `process.env.API_KEY` is used. Replace `process.env.API_KEY` with your actual key string:
            ```typescript
            // In services/geminiService.ts
            // ai = new GoogleGenAI({ apiKey: "YOUR_GEMINI_API_KEY_HERE" });
            ```
            **Remember to remove this before committing or deploying to a public environment!**
        *   **Proper Solution (if deploying):** A backend proxy or a build step would be needed to securely manage and provide the Gemini API key to the client or handle Gemini API calls server-side.

4.  **Run the Application Locally**

    Since the project uses ES modules (`type="module"` in script tags), you need to serve `index.html` via an HTTP server. Opening `index.html` directly in the browser as a `file://` URL will likely cause CORS errors and prevent modules from loading.

    *   **Using Python's HTTP Server (Python 3):**
        Navigate to your project directory in the terminal and run:
        ```bash
        python -m http.server
        ```
        By default, this serves on `http://localhost:8000` or `http://0.0.0.0:8000`.

    *   **Using Node.js `http-server`:**
        If you have Node.js and npm installed, you can install `http-server` globally:
        ```bash
        npm install -g http-server
        ```
        Then, navigate to your project directory in the terminal and run:
        ```bash
        http-server
        ```
        This usually serves on `http://localhost:8080` or `http://127.0.0.1:8080`.

    *   Open the provided URL (e.g., `http://localhost:8000`) in your web browser.

## How to Enable Google Cloud Dependency Services

To ensure the Google Maps API features work correctly, you need to enable specific services in the Google Cloud Console for the project associated with your API key:

1.  Go to the [Google Cloud Console](https://console.cloud.google.com/).
2.  Select your project.
3.  In the navigation menu (hamburger icon ☰), go to **"APIs & Services" > "Library"**.
4.  Search for and **ENABLE** each of the following APIs:
    *   **Maps JavaScript API**
    *   **Directions API**
    *   **Street View API** (ensure it's the one that supports `StreetViewService` for dynamic panoramas, sometimes listed under a broader Maps SDK)
    *   **Geocoding API**
    *   **Places API**
5.  Wait a few minutes for the changes to propagate after enabling.

## Contributing

Contributions are welcome! If you'd like to contribute to this project:

1.  **Fork the repository** (if this were on a platform like GitHub). For now, make a copy of the codebase.
2.  **Create a new branch** for your feature or bug fix.
3.  **Make your changes**. Ensure your code follows the existing style and structure.
4.  **Test your changes thoroughly**.
5.  **Submit a pull request** (if applicable) with a clear description of your changes.

## Potential Future Enhancements

*   Save/Load routes.
*   More detailed Street View controls (e.g., look around).
*   Error handling for more specific API error codes.
*   More sophisticated Gemini prompt engineering for varied narratives.
*   Using a proper bundler (like Vite or Webpack) for optimized builds and easier dependency management if the project grows.

---

Happy navigating!
